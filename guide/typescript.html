<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using with TypeScript | Ajv JSON schema validator</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    <meta name="description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta charset="utf-8">
    <meta property="og:title" content="Ajv JSON schema validator">
    <meta property="og:description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta property="og:image" content="https://ajv.js.org/img/ajv.png">
    <meta itemprop="image" content="https://ajv.js.org/img/ajv.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ajv JSON schema validator">
    <meta name="twitter:image:src" content="https://ajv.js.org/img/ajv.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.48181ae9.css" as="style"><link rel="preload" href="/assets/js/app.a7b7a638.js" as="script"><link rel="preload" href="/assets/js/3.f930dc1b.js" as="script"><link rel="preload" href="/assets/js/4.790be02e.js" as="script"><link rel="preload" href="/assets/js/18.cf6d1eb8.js" as="script"><link rel="preload" href="/assets/js/45.0b0de013.js" as="script"><link rel="preload" href="/assets/js/28.984a380c.js" as="script"><link rel="prefetch" href="/assets/js/10.c356caab.js"><link rel="prefetch" href="/assets/js/11.51a410df.js"><link rel="prefetch" href="/assets/js/12.8044758f.js"><link rel="prefetch" href="/assets/js/13.bf5b914f.js"><link rel="prefetch" href="/assets/js/14.0f6897d3.js"><link rel="prefetch" href="/assets/js/15.72fa20d8.js"><link rel="prefetch" href="/assets/js/16.f77f1dd8.js"><link rel="prefetch" href="/assets/js/17.6cd59f81.js"><link rel="prefetch" href="/assets/js/19.38d78cc6.js"><link rel="prefetch" href="/assets/js/2.12327c62.js"><link rel="prefetch" href="/assets/js/20.c1346d44.js"><link rel="prefetch" href="/assets/js/21.946db5b0.js"><link rel="prefetch" href="/assets/js/22.0c607107.js"><link rel="prefetch" href="/assets/js/23.ebc0c1b7.js"><link rel="prefetch" href="/assets/js/24.702ba36e.js"><link rel="prefetch" href="/assets/js/25.37fdc04e.js"><link rel="prefetch" href="/assets/js/26.891766f1.js"><link rel="prefetch" href="/assets/js/27.8c10156a.js"><link rel="prefetch" href="/assets/js/29.23e99c20.js"><link rel="prefetch" href="/assets/js/30.39849a25.js"><link rel="prefetch" href="/assets/js/31.c1227008.js"><link rel="prefetch" href="/assets/js/32.6882528e.js"><link rel="prefetch" href="/assets/js/33.9f47be5b.js"><link rel="prefetch" href="/assets/js/34.79a5ef3a.js"><link rel="prefetch" href="/assets/js/35.91240393.js"><link rel="prefetch" href="/assets/js/36.332c6747.js"><link rel="prefetch" href="/assets/js/37.f16160fb.js"><link rel="prefetch" href="/assets/js/38.58d87718.js"><link rel="prefetch" href="/assets/js/39.263ee9ed.js"><link rel="prefetch" href="/assets/js/40.01b746a7.js"><link rel="prefetch" href="/assets/js/41.a80501b6.js"><link rel="prefetch" href="/assets/js/42.03ab8698.js"><link rel="prefetch" href="/assets/js/43.2b9bc6a4.js"><link rel="prefetch" href="/assets/js/44.800770ef.js"><link rel="prefetch" href="/assets/js/46.e944d2a0.js"><link rel="prefetch" href="/assets/js/47.436a8637.js"><link rel="prefetch" href="/assets/js/48.64fb808e.js"><link rel="prefetch" href="/assets/js/49.ce41a424.js"><link rel="prefetch" href="/assets/js/5.b2b9da72.js"><link rel="prefetch" href="/assets/js/50.6d96eab4.js"><link rel="prefetch" href="/assets/js/51.ef579fbc.js"><link rel="prefetch" href="/assets/js/52.ca4b52e9.js"><link rel="prefetch" href="/assets/js/53.f17cce74.js"><link rel="prefetch" href="/assets/js/54.669b4435.js"><link rel="prefetch" href="/assets/js/55.f842f59c.js"><link rel="prefetch" href="/assets/js/56.8749af57.js"><link rel="prefetch" href="/assets/js/57.e4bb6d33.js"><link rel="prefetch" href="/assets/js/58.ed753d08.js"><link rel="prefetch" href="/assets/js/59.f9805cd2.js"><link rel="prefetch" href="/assets/js/6.e621a2da.js"><link rel="prefetch" href="/assets/js/60.046719e3.js"><link rel="prefetch" href="/assets/js/61.a5bad619.js"><link rel="prefetch" href="/assets/js/62.98a66c9b.js"><link rel="prefetch" href="/assets/js/63.5c06205e.js"><link rel="prefetch" href="/assets/js/64.bc3984b6.js"><link rel="prefetch" href="/assets/js/65.6231ed23.js"><link rel="prefetch" href="/assets/js/66.d37f88f3.js"><link rel="prefetch" href="/assets/js/67.6dd93ead.js"><link rel="prefetch" href="/assets/js/68.8b039595.js"><link rel="prefetch" href="/assets/js/69.a51b9e05.js"><link rel="prefetch" href="/assets/js/7.18e2aacc.js"><link rel="prefetch" href="/assets/js/70.84a18cc5.js"><link rel="prefetch" href="/assets/js/71.6db09fe4.js"><link rel="prefetch" href="/assets/js/8.189a3671.js"><link rel="prefetch" href="/assets/js/9.8ce9e3dd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.48181ae9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/ajv.svg" alt="Ajv JSON schema validator" class="logo"> <span class="site-name can-hide">Ajv JSON schema validator</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" class="nav-link">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" class="nav-link">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" class="nav-link">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" class="nav-link">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/why-ajv.html" class="sidebar-link">Why use AJV</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/guide/typescript.html" aria-current="page" class="active sidebar-link">Using with TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/typescript.html#additional-functionality" class="sidebar-link">Additional functionality</a></li><li class="sidebar-sub-header"><a href="/guide/typescript.html#utility-types-for-schemas" class="sidebar-link">Utility types for schemas</a></li><li class="sidebar-sub-header"><a href="/guide/typescript.html#utility-type-for-jtd-data-type" class="sidebar-link">Utility type for JTD data type</a></li><li class="sidebar-sub-header"><a href="/guide/typescript.html#type-safe-error-handling" class="sidebar-link">Type-safe error handling</a></li><li class="sidebar-sub-header"><a href="/guide/typescript.html#type-safe-parsers-and-serializers" class="sidebar-link">Type-safe parsers and serializers</a></li><li class="sidebar-sub-header"><a href="/guide/typescript.html#type-safe-unions" class="sidebar-link">Type-safe unions</a></li></ul></li><li><a href="/guide/schema-language.html" class="sidebar-link">Choosing schema language</a></li><li><a href="/guide/managing-schemas.html" class="sidebar-link">Managing schemas</a></li><li><a href="/guide/combining-schemas.html" class="sidebar-link">Combining schemas</a></li><li><a href="/guide/formats.html" class="sidebar-link">Format validation</a></li><li><a href="/guide/modifying-data.html" class="sidebar-link">Modifying data during validation</a></li><li><a href="/guide/user-keywords.html" class="sidebar-link">User-defined keywords</a></li><li><a href="/guide/async-validation.html" class="sidebar-link">Asynchronous validation</a></li><li><a href="/guide/environments.html" class="sidebar-link">Execution environments</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extending Ajv</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Contributors</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Information</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="using-with-typescript"><a href="#using-with-typescript" class="header-anchor">#</a> Using with TypeScript</h1> <p></p><div class="table-of-contents"><ul><li><a href="#additional-functionality">Additional functionality</a></li><li><a href="#utility-types-for-schemas">Utility types for schemas</a></li><li><a href="#utility-type-for-jtd-data-type">Utility type for JTD data type</a></li><li><a href="#type-safe-error-handling">Type-safe error handling</a></li><li><a href="#type-safe-parsers-and-serializers">Type-safe parsers and serializers</a></li><li><a href="#type-safe-unions">Type-safe unions</a></li></ul></div><p></p> <h2 id="additional-functionality"><a href="#additional-functionality" class="header-anchor">#</a> Additional functionality</h2> <p>Ajv takes advantage of TypeScript type system to provide additional functionality that is not possible in JavaScript:</p> <ul><li>utility types <code>JSONSchemaType</code> and <code>JTDSchemaType</code> to convert data type into the schema type to simplify writing schemas, both for <a href="/json-schema.html">JSON Schema</a> (but without union support) and for <a href="../json-type-definition">JSON Type Definition</a> (with tagged unions support).</li> <li>utility type <code>JTDDataType</code> to covert JSON Type Definition schema into the type of data that it defines.</li> <li>compiled validation functions are type guards that narrow the type after successful validation.</li> <li>validation errors for JSON Schema are defined as tagged unions, for type-safe error handling.</li> <li>when utility type is used, compiled JTD serializers only accept data of correct type (as they do not validate that the data is valid) and compiled parsers return correct data type.</li></ul> <h2 id="utility-types-for-schemas"><a href="#utility-types-for-schemas" class="header-anchor">#</a> Utility types for schemas</h2> <p>For the same example as in <a href="./getting-started">Getting started</a>:</p> <ul><li>ensure strictNullChecks is true</li></ul> <!----> <p>See <a href="https://github.com/ajv-validator/ajv/tree/master/spec/types/json-schema.spec.ts" target="_blank" rel="noopener noreferrer">this test<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for an advanced example.</p> <h2 id="utility-type-for-jtd-data-type"><a href="#utility-type-for-jtd-data-type" class="header-anchor">#</a> Utility type for JTD data type</h2> <p>You can use JTD schema to construct the type of data using utility type <code>JTDDataType</code></p> <!----> <div class="custom-block warning"><p class="custom-block-title">TypeScript limitation</p> <p>Note that it's currently not possible for <code>JTDDataType</code> to know whether the compiler is inferring timestamps as strings or Dates, and so it conservatively types any timestamp as <code>string | Date</code>. This is accurate, but often requires extra validation on the part of the user to confirm they're getting the appropriate data type.</p></div> <h2 id="type-safe-error-handling"><a href="#type-safe-error-handling" class="header-anchor">#</a> Type-safe error handling</h2> <p>With both <a href="/json-schema.html">JSON Schema</a> and <a href="/json-type-definition.html">JSON Type Definition</a>, the validation error type is an open union, but it can be cast to tagged unions (using validation keyword as tag) for easier error handling.</p> <p>Continuing the example above:</p> <!----> <h2 id="type-safe-parsers-and-serializers"><a href="#type-safe-parsers-and-serializers" class="header-anchor">#</a> Type-safe parsers and serializers</h2> <p>With typescript, your compiled parsers and serializers can be type-safe, either taking their type from schema type or from type parameter passed to compilation functions.</p> <p>This example uses the same data and schema types as above:</p> <!----> <h2 id="type-safe-unions"><a href="#type-safe-unions" class="header-anchor">#</a> Type-safe unions</h2> <p>JSON Type Definition only supports tagged unions, so unions in JTD are fully supported for <code>JTDSchemaType</code> and <code>JTDDataType</code>.
JSON Schema is more complex and so <code>JSONSchemaType</code> has limited support for type safe unions.</p> <p><code>JSONSchemaType</code> will type check unions where each union element is fully specified as an element of an <code>anyOf</code> array or <code>oneOf</code> array.
Additionaly, unions of primitives will type check appropriately if they're combined into an array <code>type</code>, e.g. <code>{type: [&quot;string&quot;, &quot;number&quot;]}</code>.</p> <div class="custom-block warning"><p class="custom-block-title">TypeScript limitation</p> <p>Note that due to current limitation of TypeScript, JSONSchemaType cannot verify that every element of the union is present, and the following example is still valid <code>const schema: JSONSchemaType&lt;number | string&gt; = {type: &quot;string&quot;}</code>.</p></div> <p>Here's a more detailed example showing several union types:</p> <!----></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ajv-validator/ajv/edit/master/docs/guide/typescript.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/getting-started.html" class="prev">
        Getting started
      </a></span> <span class="next"><a href="/guide/schema-language.html">
        Choosing schema language
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a7b7a638.js" defer></script><script src="/assets/js/3.f930dc1b.js" defer></script><script src="/assets/js/4.790be02e.js" defer></script><script src="/assets/js/18.cf6d1eb8.js" defer></script><script src="/assets/js/45.0b0de013.js" defer></script><script src="/assets/js/28.984a380c.js" defer></script>
  </body>
</html>
