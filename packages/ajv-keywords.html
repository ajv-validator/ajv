<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajv JSON schema validator</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    <meta name="description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta charset="utf-8">
    <meta property="og:title" content="Ajv JSON schema validator">
    <meta property="og:description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta property="og:image" content="https://ajv.js.org/img/ajv.png">
    <meta itemprop="image" content="https://ajv.js.org/img/ajv.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ajv JSON schema validator">
    <meta name="twitter:image:src" content="https://ajv.js.org/img/ajv.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.1cf7f655.css" as="style"><link rel="preload" href="/assets/js/app.3ac4693d.js" as="script"><link rel="preload" href="/assets/js/3.649bdfae.js" as="script"><link rel="preload" href="/assets/js/4.790be02e.js" as="script"><link rel="preload" href="/assets/js/18.8efeb4c3.js" as="script"><link rel="preload" href="/assets/js/66.f07dcc82.js" as="script"><link rel="prefetch" href="/assets/js/10.c356caab.js"><link rel="prefetch" href="/assets/js/11.9fe3ea64.js"><link rel="prefetch" href="/assets/js/12.8044758f.js"><link rel="prefetch" href="/assets/js/13.bf5b914f.js"><link rel="prefetch" href="/assets/js/14.087fc2f9.js"><link rel="prefetch" href="/assets/js/15.d57fc992.js"><link rel="prefetch" href="/assets/js/16.cd671336.js"><link rel="prefetch" href="/assets/js/17.f91625c6.js"><link rel="prefetch" href="/assets/js/19.0eb259d1.js"><link rel="prefetch" href="/assets/js/2.8125fa4e.js"><link rel="prefetch" href="/assets/js/20.c1346d44.js"><link rel="prefetch" href="/assets/js/21.a5306231.js"><link rel="prefetch" href="/assets/js/22.7464327f.js"><link rel="prefetch" href="/assets/js/23.ebc0c1b7.js"><link rel="prefetch" href="/assets/js/24.a15435db.js"><link rel="prefetch" href="/assets/js/25.37fdc04e.js"><link rel="prefetch" href="/assets/js/26.891766f1.js"><link rel="prefetch" href="/assets/js/27.2a11bbcc.js"><link rel="prefetch" href="/assets/js/28.1f7cdd5b.js"><link rel="prefetch" href="/assets/js/29.23e99c20.js"><link rel="prefetch" href="/assets/js/30.85050abe.js"><link rel="prefetch" href="/assets/js/31.bd5bc7ea.js"><link rel="prefetch" href="/assets/js/32.af93b0e9.js"><link rel="prefetch" href="/assets/js/33.bc376611.js"><link rel="prefetch" href="/assets/js/34.1a53c708.js"><link rel="prefetch" href="/assets/js/35.7be44722.js"><link rel="prefetch" href="/assets/js/36.332c6747.js"><link rel="prefetch" href="/assets/js/37.f16160fb.js"><link rel="prefetch" href="/assets/js/38.ba2f5046.js"><link rel="prefetch" href="/assets/js/39.263ee9ed.js"><link rel="prefetch" href="/assets/js/40.01b746a7.js"><link rel="prefetch" href="/assets/js/41.6b806b82.js"><link rel="prefetch" href="/assets/js/42.0f6229b3.js"><link rel="prefetch" href="/assets/js/43.569a9da1.js"><link rel="prefetch" href="/assets/js/44.819a92d4.js"><link rel="prefetch" href="/assets/js/45.40a48287.js"><link rel="prefetch" href="/assets/js/46.6bfda022.js"><link rel="prefetch" href="/assets/js/47.5fa5c55a.js"><link rel="prefetch" href="/assets/js/48.8a4510ce.js"><link rel="prefetch" href="/assets/js/49.afe38c8a.js"><link rel="prefetch" href="/assets/js/5.b2b9da72.js"><link rel="prefetch" href="/assets/js/50.b28ff539.js"><link rel="prefetch" href="/assets/js/51.a56beab9.js"><link rel="prefetch" href="/assets/js/52.0baddd5e.js"><link rel="prefetch" href="/assets/js/53.4f8444c9.js"><link rel="prefetch" href="/assets/js/54.845e3168.js"><link rel="prefetch" href="/assets/js/55.f842f59c.js"><link rel="prefetch" href="/assets/js/56.69f066ec.js"><link rel="prefetch" href="/assets/js/57.e4bb6d33.js"><link rel="prefetch" href="/assets/js/58.d4d312ed.js"><link rel="prefetch" href="/assets/js/59.ff4c8b70.js"><link rel="prefetch" href="/assets/js/6.dbdcf660.js"><link rel="prefetch" href="/assets/js/60.cdd66ca1.js"><link rel="prefetch" href="/assets/js/61.b550f476.js"><link rel="prefetch" href="/assets/js/62.71982ee0.js"><link rel="prefetch" href="/assets/js/63.98bf4e4a.js"><link rel="prefetch" href="/assets/js/64.7310407d.js"><link rel="prefetch" href="/assets/js/65.413090b5.js"><link rel="prefetch" href="/assets/js/67.6dd93ead.js"><link rel="prefetch" href="/assets/js/68.41972f6b.js"><link rel="prefetch" href="/assets/js/69.a51b9e05.js"><link rel="prefetch" href="/assets/js/7.94496d36.js"><link rel="prefetch" href="/assets/js/70.e0e5e6a6.js"><link rel="prefetch" href="/assets/js/71.51a37a36.js"><link rel="prefetch" href="/assets/js/8.189a3671.js"><link rel="prefetch" href="/assets/js/9.0e0f538a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1cf7f655.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/ajv.svg" alt="Ajv JSON schema validator" class="logo"> <span class="site-name can-hide">Ajv JSON schema validator</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" class="nav-link">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" class="nav-link">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link router-link-active">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" class="nav-link">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" class="nav-link">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link router-link-active">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Extending Ajv</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/packages/" aria-current="page" class="sidebar-link">Extending Ajv</a></li><li><a href="/packages/ajv-formats.html" class="sidebar-link">ajv-formats</a></li><li><a href="/packages/ajv-keywords.html" aria-current="page" class="active sidebar-link">ajv-keywords</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#contents" class="sidebar-link">Contents</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#install" class="sidebar-link">Install</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#keywords" class="sidebar-link">Keywords</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#security-contact" class="sidebar-link">Security contact</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#open-source-software-support" class="sidebar-link">Open-source software support</a></li><li class="sidebar-sub-header"><a href="/packages/ajv-keywords.html#license" class="sidebar-link">License</a></li></ul></li><li><a href="/packages/ajv-errors.html" class="sidebar-link">ajv-errors</a></li><li><a href="/packages/ajv-i18n.html" class="sidebar-link">ajv-i18n</a></li><li><a href="/packages/ajv-cli.html" class="sidebar-link">ajv-cli</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Contributors</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Information</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="https://github.com/ajv-validator/ajv-keywords" target="_blank" rel="noopener noreferrer">ajv-keywords repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="ajv-keywords"><a href="#ajv-keywords" class="header-anchor">#</a> ajv-keywords</h1> <p>Custom JSON-Schema keywords for <a href="https://github.com/epoberezkin/ajv" target="_blank" rel="noopener noreferrer">Ajv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> validator</p> <p><a href="https://github.com/ajv-validator/ajv-keywords/actions?query=workflow%3Abuild" target="_blank" rel="noopener noreferrer"><img src="https://github.com/ajv-validator/ajv-keywords/workflows/build/badge.svg" alt="build"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.npmjs.com/package/ajv-keywords" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/ajv-keywords.svg" alt="npm"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.npmjs.com/package/ajv-keywords" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/ajv-keywords.svg" alt="npm downloads"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://coveralls.io/github/ajv-validator/ajv-keywords?branch=master" target="_blank" rel="noopener noreferrer"><img src="https://coveralls.io/repos/github/ajv-validator/ajv-keywords/badge.svg?branch=master" alt="coverage"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://gitter.im/ajv-validator/ajv" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/gitter/room/ajv-validator/ajv.svg" alt="gitter"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Please note</strong>: This readme file is for <a href="https://github.com/ajv-validator/ajv-keywords/releases/tag/v5.0.0" target="_blank" rel="noopener noreferrer">ajv-keywords v5.0.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that should be used with <a href="https://github.com/ajv-validator/ajv" target="_blank" rel="noopener noreferrer">ajv v8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><a href="https://github.com/ajv-validator/ajv-keywords/tree/v3" target="_blank" rel="noopener noreferrer">ajv-keywords v3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> should be used with <a href="https://github.com/ajv-validator/ajv/tree/v6" target="_blank" rel="noopener noreferrer">ajv v6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#install">Install</a></li> <li><a href="#usage">Usage</a></li> <li><a href="#keywords">Keywords</a> <ul><li><a href="#types">Types</a> <ul><li><a href="#typeof">typeof</a></li> <li><a href="#instanceof">instanceof</a><sup>+</sup></li></ul></li> <li><a href="#keywords-for-numbers">Keywords for numbers</a> <ul><li><a href="#range-and-exclusiverange">range and exclusiveRange</a></li></ul></li> <li><a href="#keywords-for-strings">Keywords for strings</a> <ul><li><a href="#regexp">regexp</a></li> <li><a href="#transform">transform</a><sup>*</sup></li></ul></li> <li><a href="#keywords-for-arrays">Keywords for arrays</a> <ul><li><a href="#uniqueitemproperties">uniqueItemProperties</a><sup>+</sup></li></ul></li> <li><a href="#keywords-for-objects">Keywords for objects</a> <ul><li><a href="#allrequired">allRequired</a></li> <li><a href="#anyrequired">anyRequired</a></li> <li><a href="#onerequired">oneRequired</a></li> <li><a href="#patternrequired">patternRequired</a></li> <li><a href="#prohibited">prohibited</a></li> <li><a href="#deepproperties">deepProperties</a></li> <li><a href="#deeprequired">deepRequired</a></li> <li><a href="#dynamicdefaults">dynamicDefaults</a><sup>*</sup><sup>+</sup></li></ul></li> <li><a href="#keywords-for-all-types">Keywords for all types</a> <ul><li><a href="#selectselectcasesselectdefault">select/selectCases/selectDefault</a></li></ul></li></ul></li> <li><a href="#security-contact">Security contact</a></li> <li><a href="#open-source-software-support">Open-source software support</a></li> <li><a href="#license">License</a></li></ul> <p><sup>*</sup> - keywords that modify data
<sup>+</sup> - keywords that are not supported in <a href="https://github.com/ajv-validator/ajv/blob/master/docs/standalone.md" target="_blank" rel="noopener noreferrer">standalone validation code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="install"><a href="#install" class="header-anchor">#</a> Install</h2> <p>To install version 4 to use with <a href="https://github.com/ajv-validator/ajv" target="_blank" rel="noopener noreferrer">Ajv v7<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language- extra-class"><pre class="language-text"><code>npm install ajv-keywords
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>To add all available keywords:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Ajv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ajv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ajv</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">)</span>

ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token string">&quot;RegExp&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token string">&quot;RegExp&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;.*&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>To add a single keyword:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token string">&quot;instanceof&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>To add multiple keywords:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;typeof&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;instanceof&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>To add a single keyword directly (to avoid adding unused code):</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/keywords/select&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> opts<span class="token punctuation">)</span>
</code></pre></div><p>To add all keywords via Ajv options:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ajv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ajv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>keywords<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>To add one or several keywords via options:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ajv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ajv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  keywords<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/typeof&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/instanceof&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// select exports an array of 3 definitions - see &quot;select&quot; in docs</span>
    <span class="token operator">...</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/select&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>opts</code> is an optional object with a property <code>defaultMeta</code> - URI of meta-schema to use for keywords that use subschemas (<code>select</code> and <code>deepProperties</code>). The default is <code>&quot;http://json-schema.org/schema&quot;</code>.</p> <h2 id="keywords"><a href="#keywords" class="header-anchor">#</a> Keywords</h2> <h3 id="types"><a href="#types" class="header-anchor">#</a> Types</h3> <h4 id="typeof"><a href="#typeof" class="header-anchor">#</a> <code>typeof</code></h4> <p>Based on JavaScript <code>typeof</code> operation.</p> <p>The value of the keyword should be a string (<code>&quot;undefined&quot;</code>, <code>&quot;string&quot;</code>, <code>&quot;number&quot;</code>, <code>&quot;object&quot;</code>, <code>&quot;function&quot;</code>, <code>&quot;boolean&quot;</code> or <code>&quot;symbol&quot;</code>) or an array of strings.</p> <p>To pass validation the result of <code>typeof</code> operation on the value should be equal to the string (or one of the strings in the array).</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">typeof</span><span class="token operator">:</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">typeof</span><span class="token operator">:</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">typeof</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;undefined&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> <code>instanceof</code></h4> <p>Based on JavaScript <code>instanceof</code> operation.</p> <p>The value of the keyword should be a string (<code>&quot;Object&quot;</code>, <code>&quot;Array&quot;</code>, <code>&quot;Function&quot;</code>, <code>&quot;Number&quot;</code>, <code>&quot;String&quot;</code>, <code>&quot;Date&quot;</code>, <code>&quot;RegExp&quot;</code> or <code>&quot;Promise&quot;</code>) or an array of strings.</p> <p>To pass validation the result of <code>data instanceof ...</code> operation on the value should be true:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token string">&quot;Array&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token string">&quot;Array&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Array&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Function&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>You can add your own constructor function to be recognised by this keyword:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> instanceofDef <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/instanceof&quot;</span><span class="token punctuation">)</span>
instanceofDef<span class="token punctuation">.</span><span class="token constant">CONSTRUCTORS</span><span class="token punctuation">.</span>MyClass <span class="token operator">=</span> MyClass
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">instanceof</span><span class="token operator">:</span> <span class="token string">&quot;MyClass&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>Please note</strong>: currently <code>instanceof</code> is not supported in <a href="https://github.com/ajv-validator/ajv/blob/master/docs/standalone.md" target="_blank" rel="noopener noreferrer">standalone validation code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - it has to be implemented as <a href="https://github.com/ajv-validator/ajv/blob/master/docs/keywords.md#define-keyword-with-code-generation-function" target="_blank" rel="noopener noreferrer"><code>code</code> keyword<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to support it (PR is welcome).</p> <h3 id="keywords-for-numbers"><a href="#keywords-for-numbers" class="header-anchor">#</a> Keywords for numbers</h3> <h4 id="range-and-exclusiverange"><a href="#range-and-exclusiverange" class="header-anchor">#</a> <code>range</code> and <code>exclusiveRange</code></h4> <p>Syntax sugar for the combination of minimum and maximum keywords (or exclusiveMinimum and exclusiveMaximum), also fails schema compilation if there are no numbers in the range.</p> <p>The value of these keywords must be an array consisting of two numbers, the second must be greater or equal than the first one.</p> <p>If the validated value is not a number the validation passes, otherwise to pass validation the value should be greater (or equal) than the first number and smaller (or equal) than the second number in the array.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span> range<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">0.99</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3.01</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span> exclusiveRange<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1.01</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2.99</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="keywords-for-strings"><a href="#keywords-for-strings" class="header-anchor">#</a> Keywords for strings</h3> <h4 id="regexp"><a href="#regexp" class="header-anchor">#</a> <code>regexp</code></h4> <p>This keyword allows to use regular expressions with flags in schemas, and also without <code>&quot;u&quot;</code> flag when needed (the standard <code>pattern</code> keyword does not support flags and implies the presence of <code>&quot;u&quot;</code> flag).</p> <p>This keyword applies only to strings. If the data is not a string, the validation succeeds.</p> <p>The value of this keyword can be either a string (the result of <code>regexp.toString()</code>) or an object with the properties <code>pattern</code> and <code>flags</code> (the same strings that should be passed to RegExp constructor).</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> regexp<span class="token operator">:</span> <span class="token string">&quot;/foo/i&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> regexp<span class="token operator">:</span> <span class="token punctuation">{</span>pattern<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> flags<span class="token operator">:</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token string">&quot;Food&quot;</span><span class="token punctuation">,</span>
  bar<span class="token operator">:</span> <span class="token string">&quot;Barmen&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token string">&quot;fog&quot;</span><span class="token punctuation">,</span>
  bar<span class="token operator">:</span> <span class="token string">&quot;bad&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="transform"><a href="#transform" class="header-anchor">#</a> <code>transform</code></h4> <p>This keyword allows a string to be modified during validation.</p> <p>This keyword applies only to strings. If the data is not a string, the <code>transform</code> keyword is ignored.</p> <p>A standalone string cannot be modified, i.e. <code>data = 'a'; ajv.validate(schema, data);</code>, because strings are passed by value</p> <p><strong>Supported transformations:</strong></p> <ul><li><code>trim</code>: remove whitespace from start and end</li> <li><code>trimStart</code>/<code>trimLeft</code>: remove whitespace from start</li> <li><code>trimEnd</code>/<code>trimRight</code>: remove whitespace from end</li> <li><code>toLowerCase</code>: convert to lower case</li> <li><code>toUpperCase</code>: convert to upper case</li> <li><code>toEnumCase</code>: change string case to be equal to one of <code>enum</code> values in the schema</li></ul> <p>Transformations are applied in the order they are listed.</p> <p>Note: <code>toEnumCase</code> requires that all allowed values are unique when case insensitive.</p> <p><strong>Example: multiple transformations</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token string">&quot;transform&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
  items<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    transform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;trim&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;toLowerCase&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;  MixCase  &quot;</span><span class="token punctuation">]</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// ['mixcase']</span>
</code></pre></div><p><strong>Example: <code>enumcase</code></strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
  items<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    transform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;trim&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;toEnumCase&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;pH&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ph&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; Ph&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PH&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pH &quot;</span><span class="token punctuation">]</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// ['pH','pH','pH','pH']</span>
</code></pre></div><h3 id="keywords-for-arrays"><a href="#keywords-for-arrays" class="header-anchor">#</a> Keywords for arrays</h3> <h4 id="uniqueitemproperties"><a href="#uniqueitemproperties" class="header-anchor">#</a> <code>uniqueItemProperties</code></h4> <p>The keyword allows to check that some properties in array items are unique.</p> <p>This keyword applies only to arrays. If the data is not an array, the validation succeeds.</p> <p>The value of this keyword must be an array of strings - property names that should have unique values across all items.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
  uniqueItemProperties<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> invalidData1 <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// duplicate &quot;id&quot;</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> invalidData2 <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;taco&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;taco&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// duplicate &quot;name&quot;</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;salsa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>This keyword is contributed by <a href="https://github.com/blainesch" target="_blank" rel="noopener noreferrer">@blainesch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><strong>Please note</strong>: currently <code>uniqueItemProperties</code> is not supported in <a href="https://github.com/ajv-validator/ajv/blob/master/docs/standalone.md" target="_blank" rel="noopener noreferrer">standalone validation code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - it has to be implemented as <a href="https://github.com/ajv-validator/ajv/blob/master/docs/keywords.md#define-keyword-with-code-generation-function" target="_blank" rel="noopener noreferrer"><code>code</code> keyword<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to support it (PR is welcome).</p> <h3 id="keywords-for-objects"><a href="#keywords-for-objects" class="header-anchor">#</a> Keywords for objects</h3> <h4 id="allrequired"><a href="#allrequired" class="header-anchor">#</a> <code>allRequired</code></h4> <p>This keyword allows to require the presence of all properties used in <code>properties</code> keyword in the same schema object.</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value of this keyword must be boolean.</p> <p>If the value of the keyword is <code>false</code>, the validation succeeds.</p> <p>If the value of the keyword is <code>true</code>, the validation succeeds if the data contains all properties defined in <code>properties</code> keyword (in the same schema object).</p> <p>If the <code>properties</code> keyword is not present in the same schema object, schema compilation will throw exception.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  allRequired<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> baz<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> bar<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="anyrequired"><a href="#anyrequired" class="header-anchor">#</a> <code>anyRequired</code></h4> <p>This keyword allows to require the presence of any (at least one) property from the list.</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value of this keyword must be an array of strings, each string being a property name. For data object to be valid at least one of the properties in this array should be present in the object.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  anyRequired<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>baz<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="onerequired"><a href="#onerequired" class="header-anchor">#</a> <code>oneRequired</code></h4> <p>This keyword allows to require the presence of only one property from the list.</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value of this keyword must be an array of strings, each string being a property name. For data object to be valid exactly one of the properties in this array should be present in the object.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  oneRequired<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span>bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> baz<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>baz<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="patternrequired"><a href="#patternrequired" class="header-anchor">#</a> <code>patternRequired</code></h4> <p>This keyword allows to require the presence of properties that match some pattern(s).</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value of this keyword should be an array of strings, each string being a regular expression. For data object to be valid each regular expression in this array should match at least one property name in the data object.</p> <p>If the array contains multiple regular expressions, more than one expression can match the same property name.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  patternRequired<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;f.*o&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b.*r&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span>foobar<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="prohibited"><a href="#prohibited" class="header-anchor">#</a> <code>prohibited</code></h4> <p>This keyword allows to prohibit that any of the properties in the list is present in the object.</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value of this keyword should be an array of strings, each string being a property name. For data object to be valid none of the properties in this array should be present in the object.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  prohibited<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>baz<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p><strong>Please note</strong>: <code>{prohibited: ['foo', 'bar']}</code> is equivalent to <code>{not: {anyRequired: ['foo', 'bar']}}</code> (i.e. it has the same validation result for any data).</p> <h4 id="deepproperties"><a href="#deepproperties" class="header-anchor">#</a> <code>deepProperties</code></h4> <p>This keyword allows to validate deep properties (identified by JSON pointers).</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value should be an object, where keys are JSON pointers to the data, starting from the current position in data, and the values are JSON schemas. For data object to be valid the value of each JSON pointer should be valid according to the corresponding schema.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  deepProperties<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;/users/1/role&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token operator">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> alsoInvalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token operator">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="deeprequired"><a href="#deeprequired" class="header-anchor">#</a> <code>deepRequired</code></h4> <p>This keyword allows to check that some deep properties (identified by JSON pointers) are available.</p> <p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p> <p>The value should be an array of JSON pointers to the data, starting from the current position in data. For data object to be valid each JSON pointer should be some existing part of the data.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  deepRequired<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/users/1/role&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>See <a href="https://github.com/json-schema-org/json-schema-spec/issues/203#issue-197211916" target="_blank" rel="noopener noreferrer">json-schema-org/json-schema-spec#203<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for an example of the equivalent schema without <code>deepRequired</code> keyword.</p> <h3 id="keywords-for-all-types"><a href="#keywords-for-all-types" class="header-anchor">#</a> Keywords for all types</h3> <h4 id="select-selectcases-selectdefault"><a href="#select-selectcases-selectdefault" class="header-anchor">#</a> <code>select</code>/<code>selectCases</code>/<code>selectDefault</code></h4> <p><strong>Please note</strong>: these keywords are deprecated. It is recommended to use OpenAPI <a href="https://ajv.js.org/json-schema.html#discriminator" target="_blank" rel="noopener noreferrer">discriminator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> keyword supported by Ajv v8 instead of <code>select</code>.</p> <p>These keywords allow to choose the schema to validate the data based on the value of some property in the validated data.</p> <p>These keywords must be present in the same schema object (<code>selectDefault</code> is optional).</p> <p>The value of <code>select</code> keyword should be a <a href="https://github.com/ajv-validator/ajv/blob/master/docs/validation.md#data-reference" target="_blank" rel="noopener noreferrer">$data reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that points to any primitive JSON type (string, number, boolean or null) in the data that is validated. You can also use a constant of primitive type as the value of this keyword (e.g., for debugging purposes).</p> <p>The value of <code>selectCases</code> keyword must be an object where each property name is a possible string representation of the value of <code>select</code> keyword and each property value is a corresponding schema (from draft-06 it can be boolean) that must be used to validate the data.</p> <p>The value of <code>selectDefault</code> keyword is a schema (also can be boolean) that must be used to validate the data in case <code>selectCases</code> has no key equal to the stringified value of <code>select</code> keyword.</p> <p>The validation succeeds in one of the following cases:</p> <ul><li>the validation of data using selected schema succeeds,</li> <li>none of the schemas is selected for validation,</li> <li>the value of select is undefined (no property in the data that the data reference points to).</li></ul> <p>If <code>select</code> value (in data) is not a primitive type the validation fails.</p> <p>This keyword correctly tracks evaluated properties and items to work with <code>unevaluatedProperties</code> and <code>unevaluatedItems</code> keywords - only properties and items from the subschema that was used (one of <code>selectCases</code> subschemas or <code>selectDefault</code> subschema) are marked as evaluated.</p> <p><strong>Please note</strong>: these keywords require Ajv <code>$data</code> option to support <a href="https://github.com/ajv-validator/ajv/blob/master/docs/validation.md#data-reference" target="_blank" rel="noopener noreferrer">$data reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token string">'select'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'kind'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  select<span class="token operator">:</span> <span class="token punctuation">{</span> $data<span class="token operator">:</span> <span class="token string">'0/kind'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  selectCases<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      properties<span class="token operator">:</span> <span class="token punctuation">{</span>
        kind<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        foo<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      additionalProperties<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      properties<span class="token operator">:</span> <span class="token punctuation">{</span>
        kind<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        bar<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'number'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      additionalProperties<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  selectDefault<span class="token operator">:</span> <span class="token punctuation">{</span>
    propertyNames<span class="token operator">:</span> <span class="token punctuation">{</span>
      not<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> validDataList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> foo<span class="token operator">:</span> <span class="token string">'any'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> not_bar_or_foo<span class="token operator">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// no property foo</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// no property bar</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> foo<span class="token operator">:</span> <span class="token string">'any'</span><span class="token punctuation">,</span> another<span class="token operator">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// additional property</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> another<span class="token operator">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// additional property</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> foo<span class="token operator">:</span> <span class="token string">'any'</span> <span class="token punctuation">}</span> <span class="token comment">// property foo not allowed</span>
  <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token comment">// property bar not allowed</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="dynamicdefaults"><a href="#dynamicdefaults" class="header-anchor">#</a> <code>dynamicDefaults</code></h4> <p>This keyword allows to assign dynamic defaults to properties, such as timestamps, unique IDs etc.</p> <p>This keyword only works if <code>useDefaults</code> options is used and not inside <code>anyOf</code> keywords etc., in the same way as <a href="https://github.com/epoberezkin/ajv#assigning-defaults" target="_blank" rel="noopener noreferrer">default keyword treated by Ajv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The keyword should be added on the object level. Its value should be an object with each property corresponding to a property name, in the same way as in standard <code>properties</code> keyword. The value of each property can be:</p> <ul><li>an identifier of dynamic default function (a string)</li> <li>an object with properties <code>func</code> (an identifier) and <code>args</code> (an object with parameters that will be passed to this function during schema compilation - see examples).</li></ul> <p>The properties used in <code>dynamicDefaults</code> should not be added to <code>required</code> keyword in the same schema (or validation will fail), because unlike <code>default</code> this keyword is processed after validation.</p> <p>There are several predefined dynamic default functions:</p> <ul><li><code>&quot;timestamp&quot;</code> - current timestamp in milliseconds</li> <li><code>&quot;datetime&quot;</code> - current date and time as string (ISO, valid according to <code>date-time</code> format)</li> <li><code>&quot;date&quot;</code> - current date as string (ISO, valid according to <code>date</code> format)</li> <li><code>&quot;time&quot;</code> - current time as string (ISO, valid according to <code>time</code> format)</li> <li><code>&quot;random&quot;</code> - pseudo-random number in [0, 1) interval</li> <li><code>&quot;randomint&quot;</code> - pseudo-random integer number. If string is used as a property value, the function will randomly return 0 or 1. If object <code>{ func: 'randomint', args: { max: N } }</code> is used then the default will be an integer number in [0, N) interval.</li> <li><code>&quot;seq&quot;</code> - sequential integer number starting from 0. If string is used as a property value, the default sequence will be used. If object <code>{ func: 'seq', args: { name: 'foo'} }</code> is used then the sequence with name <code>&quot;foo&quot;</code> will be used. Sequences are global, even if different ajv instances are used.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  dynamicDefaults<span class="token operator">:</span> <span class="token punctuation">{</span>
    ts<span class="token operator">:</span> <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">,</span>
    r<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;randomint&quot;</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>max<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;seq&quot;</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    ts<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
      format<span class="token operator">:</span> <span class="token string">&quot;date-time&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    r<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span><span class="token punctuation">,</span>
      minimum<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      exclusiveMaximum<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span><span class="token punctuation">,</span>
      minimum<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// true</span>
data <span class="token comment">// { ts: '2016-12-01T22:07:28.829Z', r: 25, id: 0 }</span>

<span class="token keyword">const</span> data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span> <span class="token comment">// true</span>
data1 <span class="token comment">// { ts: '2016-12-01T22:07:29.832Z', r: 68, id: 1 }</span>

ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span> <span class="token comment">// true</span>
data1 <span class="token comment">// didn't change, as all properties were defined</span>
</code></pre></div><p>When using the <code>useDefaults</code> option value <code>&quot;empty&quot;</code>, properties and items equal to <code>null</code> or <code>&quot;&quot;</code> (empty string) will be considered missing and assigned defaults. Use <code>allOf</code> <a href="https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#compound-keywords" target="_blank" rel="noopener noreferrer">compound keyword<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to execute <code>dynamicDefaults</code> before validation.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
  allOf<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      dynamicDefaults<span class="token operator">:</span> <span class="token punctuation">{</span>
        ts<span class="token operator">:</span> <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">,</span>
        r<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;randomint&quot;</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>min<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        id<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;seq&quot;</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      properties<span class="token operator">:</span> <span class="token punctuation">{</span>
        ts<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        r<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
          minimum<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          exclusiveMaximum<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        id<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span><span class="token punctuation">,</span>
          minimum<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>ts<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> r<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// true</span>
data <span class="token comment">// { ts: '2016-12-01T22:07:28.829Z', r: 25, id: 0 }</span>
</code></pre></div><p>You can add your own dynamic default function to be recognised by this keyword:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> uuid <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;uuid&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> def <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/dynamicDefaults&quot;</span><span class="token punctuation">)</span>
def<span class="token punctuation">.</span><span class="token constant">DEFAULTS</span><span class="token punctuation">.</span><span class="token function-variable function">uuid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> uuid<span class="token punctuation">.</span>v4

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  dynamicDefaults<span class="token operator">:</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> format<span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token comment">// true</span>
data <span class="token comment">// { id: 'a1183fbe-697b-4030-9bcc-cfeb282a9150' };</span>

<span class="token keyword">const</span> data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data1<span class="token punctuation">)</span> <span class="token comment">// true</span>
data1 <span class="token comment">// { id: '5b008de7-1669-467a-a5c6-70fa244d7209' }</span>
</code></pre></div><p>You also can define dynamic default that accept parameters, e.g. version of uuid:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> uuid <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;uuid&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token string">&quot;v&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>arvs <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>v<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> uuid<span class="token punctuation">[</span>version<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> def <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ajv-keywords/dist/definitions/dynamicDefaults&quot;</span><span class="token punctuation">)</span>
def<span class="token punctuation">.</span><span class="token constant">DEFAULTS</span><span class="token punctuation">.</span>uuid <span class="token operator">=</span> getUuid

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  dynamicDefaults<span class="token operator">:</span> <span class="token punctuation">{</span>
    id1<span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">,</span> <span class="token comment">// v4</span>
    id2<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">,</span> v<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// v4</span>
    id3<span class="token operator">:</span> <span class="token punctuation">{</span>func<span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">,</span> v<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// v1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Please note</strong>: dynamic default functions are differentiated by the number of parameters they have (<code>function.length</code>). Functions that do not expect default must have one non-optional argument so that <code>function.length</code> &gt; 0.</p> <p><code>dynamicDefaults</code> is not supported in <a href="https://github.com/ajv-validator/ajv/blob/master/docs/standalone.md" target="_blank" rel="noopener noreferrer">standalone validation code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="security-contact"><a href="#security-contact" class="header-anchor">#</a> Security contact</h2> <p>To report a security vulnerability, please use the
<a href="https://tidelift.com/security" target="_blank" rel="noopener noreferrer">Tidelift security contact<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Tidelift will coordinate the fix and disclosure.</p> <p>Please do NOT report security vulnerabilities via GitHub issues.</p> <h2 id="open-source-software-support"><a href="#open-source-software-support" class="header-anchor">#</a> Open-source software support</h2> <p>Ajv-keywords is a part of <a href="https://tidelift.com/subscription/pkg/npm-ajv-keywords?utm_source=npm-ajv-keywords&amp;utm_medium=referral&amp;utm_campaign=readme" target="_blank" rel="noopener noreferrer">Tidelift subscription<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - it provides a centralised support to open-source software users, in addition to the support provided by software maintainers.</p> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p><a href="https://github.com/epoberezkin/ajv-keywords/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ajv-validator/ajv-keywords/edit/master/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/packages/ajv-formats.html" class="prev">
        ajv-formats
      </a></span> <span class="next"><a href="/packages/ajv-errors.html">
        ajv-errors
      </a>
      
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3ac4693d.js" defer></script><script src="/assets/js/3.649bdfae.js" defer></script><script src="/assets/js/4.790be02e.js" defer></script><script src="/assets/js/18.8efeb4c3.js" defer></script><script src="/assets/js/66.f07dcc82.js" defer></script>
  </body>
</html>
